{% extends "inicio/index.html" %}

{% block title_head %}
Inbox
{% endblock title_head %}

{% block h1_header %}
Inbox
{% endblock h1_header %}

{% block about_this_page %}
Aqu√≠ puedes ver tus mensajes recibidos y enviados.
{% endblock about_this_page %}

{% block sub_info_title %}
Mensajes
{% endblock sub_info_title %}

{% block sub_info_info %}
<div class="container">
    <div class="row">
        <div class="col-md-8 offset-md-2">
            <h1 class="mb-4">Inbox</h1>
            <a href="{% url 'send_message' %}" class="btn btn-primary mb-4">Enviar un mensaje</a>
            
            <h2 class="mb-3">Mensajes recibidos</h2>
            <ul class="message-list">
                {% for message in received_messages %}
                    <li>
                        <strong>{{ message.sender.username }}:</strong> 
                        <span>{{ message.content }}</span>
                        <div class="message-timestamp">{{ message.timestamp|date:"d/m/Y H:i" }}</div>
                    </li>
                {% endfor %}
            </ul>
            
            <h2 class="mb-3">Mensajes enviados</h2>
            <ul class="message-list">
                {% for message in sent_messages %}
                    <li>
                        <strong>Para {{ message.recipient.username }}:</strong> 
                        <span>{{ message.content }}</span>
                        <div class="message-timestamp">{{ message.timestamp|date:"d/m/Y H:i" }}</div>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock sub_info_info %}
